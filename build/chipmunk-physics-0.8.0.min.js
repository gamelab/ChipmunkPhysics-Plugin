Kiwi.Plugins.ChipmunkPhysics={name:"ChipmunkPhysics",version:"0.8.0",minimumKiwiVersion:"1.1.1"},Kiwi.PluginManager.register(Kiwi.Plugins.ChipmunkPhysics),Kiwi.Plugins.ChipmunkPhysics.create=function(a){return"undefined"==typeof cp?(console.error("You need to include the chipmunk library in-order for this plugin to work."),!1):(a.chipmunk=new Kiwi.Plugins.ChipmunkPhysics.Manager(a,cp),a.chipmunk)},Kiwi.Plugins.ChipmunkPhysics.Component=function(a,b){return Kiwi.Component.call(this,a,"ChipmunkPhysics"),"undefined"==typeof this.game.chipmunk?void console.error("Could not find the chipmunk manager attached to the game."):(this.manager=this.game.chipmunk,this.shapes=[],this._create(b),void this._applyVeloDefaults(b))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Component,Kiwi.Component),Kiwi.Plugins.ChipmunkPhysics.Component.getDefaultMass=function(a){return a.width*a.height/1e3},Kiwi.Plugins.ChipmunkPhysics.Component.prototype._create=function(a){a=a||{},this.transform=a.transform||this.owner.transform,this.space=a.space||this.manager.space,this.defaultType=a.type||"box",this.body="undefined"!=typeof a.defaultBody?a.defaultBody:Kiwi.Plugins.ChipmunkPhysics.Component.createBody(this,a.body),"undefined"!=typeof a.shapes?this.shapes.concat(Kiwi.Plugins.ChipmunkPhysics.Component.createShapes(this,a.shapes,a.body)):this.shapes.push(Kiwi.Plugins.ChipmunkPhysics.Component.createShape(this,a.shape,a.body))},Kiwi.Plugins.ChipmunkPhysics.Component.prototype._applyVeloDefaults=function(a){a.velocityX&&(this.velocityX=a.velocityX),a.velocityY&&(this.velocityY=a.velocityY),a.angularVelo&&(this.angularVelo=a.angularVelo),a.maxVelo&&(this.maxVelocity=a.maxVelo),a.maxAngularVelo&&(this.maxAngVelo=a.maxAngVelo)},Kiwi.Plugins.ChipmunkPhysics.Component.createBody=function(a,b){var c,d,e=a.owner;switch(d=e.components.hasComponent("Box")?e.components.getComponent("Box").bounds:{width:100,height:100},b=b||{},b.transform=b.transform||a.transform,b.mass=b.mass||Kiwi.Plugins.ChipmunkPhysics.Component.getDefaultMass(e),b.owner=b.owner||e,b.type=b.type||a.defaultType,b.type.toLowerCase()){case"box":case"rectangle":case"square":b.width=b.width||d.width,b.height=b.height||d.height,c=Kiwi.Plugins.ChipmunkPhysics.createBoxBody(b);break;case"circle":b.radius=b.radius||.5*d.height,c=Kiwi.Plugins.ChipmunkPhysics.createCircleBody(b);break;case"segment":case"line":b.start=b.start||{x:.5*-d.width,y:0},b.end=b.end||{x:.5*d.width,y:0},c=Kiwi.Plugins.ChipmunkPhysics.createSegmentBody(b);break;case"poly":"undefined"==typeof b.verts&&(b.verts=[0,0,d.width,0,d.width,d.height,0,d.height]),c=Kiwi.Plugins.ChipmunkPhysics.createPolyBody(b);break;case"static":c=b.space.staticBody;break;case"custom":b.i=b.i||1/0,c=new Kiwi.Plugins.ChipmunkPhysics.Body(b)}return("undefined"==typeof b.addToSpace||b.addToSpace)&&a.space.addBody(c),c},Kiwi.Plugins.ChipmunkPhysics.Component.createShapes=function(a,b,c){{var d,e=[];a.manager,a.owner}"undefined"==typeof b&&(b={}),Kiwi.Utils.Common.isArray(b)||(b=[b]);for(var f=0,g=b.length;g>f;f++)d=Kiwi.Plugins.ChipmunkPhysics.Component.createShape(a,b[f],c),d&&e.push(d);return e},Kiwi.Plugins.ChipmunkPhysics.Component.createShape=function(a,b,c){b=b||{};var d,e,c=c||{},f=a.owner;switch(e=f.components.hasComponent("Box")?f.components.getComponent("Box").bounds:{width:100,height:100},b.body=b.body||a.body,b.type=b.type||c.type||a.defaultType,b.type.toLowerCase()){case"none":return null;case"box":case"rectangle":case"square":b.width=b.width||c.width||e.width,b.height=b.height||c.width||e.height,d=new Kiwi.Plugins.ChipmunkPhysics.Shapes.Box(b);break;case"circle":b.radius=b.radius||c.radius||.5*e.height,b.offset=b.offset||c.offset,d=new Kiwi.Plugins.ChipmunkPhysics.Shapes.Circle(b);break;case"segment":b.start=b.start||c.start,b.end=b.end||c.end,b.radius=b.radius||c.radius||1,d=new Kiwi.Plugins.ChipmunkPhysics.Shapes.Segment(b);break;case"poly":b.verts=b.verts||c.verts,b.offset=b.offset||c.offset,d=new Kiwi.Plugins.ChipmunkPhysics.Shapes.Poly(b)}return("undefined"==typeof b.addToSpace||b.addToSpace)&&a.space.addShape(d),d},Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"mass",{get:function(){return this.body.mass},set:function(a){this.body.setMass(a)},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"velocityX",{get:function(){return this.body.velocityX},set:function(a){this.body.velocityX=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"velocityY",{get:function(){return this.body.velocityY},set:function(a){this.body.velocityY=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"maxVelocity",{get:function(){return this.body.maxVelocity},set:function(a){this.body.maxVelocity=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"angularVelo",{get:function(){return this.body.angularVelo},set:function(a){this.body.angularVelo=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Component.prototype,"maxAngVelo",{get:function(){return this.body.maxAngVelo},set:function(a){this.body.maxAngVelo=a},enumerable:!0,configurable:!0}),Kiwi.Plugins.ChipmunkPhysics.Component.prototype.update=function(){},Kiwi.Plugins.ChipmunkPhysics.Manager=function(a,b){this.game=a,this.cp=b,this.updateSpeed=1/60},Kiwi.Plugins.ChipmunkPhysics.Manager.prototype.boot=function(){this.spaces=[],this.defaultSpace=this.space=this.createNewSpace(),this.active=!0},Kiwi.Plugins.ChipmunkPhysics.Manager.prototype.createNewSpace=function(a,b){var a=a||!0,c=new Kiwi.Plugins.ChipmunkPhysics.Space(b);return a&&this.spaces.push(c),c},Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Manager.prototype,"iterations",{get:function(){return this.space.iterations},set:function(a){this.space.iterations=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Manager.prototype,"gravity",{get:function(){return this.space.gravity},enumerable:!0,configurable:!0}),Kiwi.Plugins.ChipmunkPhysics.Manager.prototype.update=function(){var a=this.spaces.length;if(this.active)for(;a--;)this.spaces[a].step(this.updateSpeed)},Kiwi.Plugins.ChipmunkPhysics.createBoxBody=function(a){return a||a.mass||a.width||a.height?(a.i=cp.momentForBox(a.mass,a.width,a.height),new Kiwi.Plugins.ChipmunkPhysics.Body(a)):(console.warn("Not all parameters required passed."),null)},Kiwi.Plugins.ChipmunkPhysics.createCircleBody=function(a){return a||a.mass||a.radius?(a.innerRadius=a.innerRadius||0,a.offset=a.offset||{x:0,y:0},a.i=cp.momentForCircle(a.mass,a.innerRadius,a.radius,a.offset),new Kiwi.Plugins.ChipmunkPhysics.Body(a)):(console.warn("Not all parameters required passed."),null)},Kiwi.Plugins.ChipmunkPhysics.createSegmentBody=function(a){return a||a.mass||a.start||a.end?(a.i=cp.momentForSegment(a.mass,a.start,a.end),new Kiwi.Plugins.ChipmunkPhysics.Body(a)):(console.warn("Not all parameters required passed."),null)},Kiwi.Plugins.ChipmunkPhysics.createPolyBody=function(a){return a||a.mass||a.verts?(a.offset=a.offset||{x:0,y:0},a.i=cp.momentForPoly(a.mass,a.verts,a.offset),new Kiwi.Plugins.ChipmunkPhysics.Body(a)):(console.warn("Not all parameters required passed."),null)},Kiwi.Plugins.ChipmunkPhysics.Joints={},Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct=function(a){a.maxForce&&(this.maxForce=a.maxForce),a.errorBias&&(this.maxForce=a.errorBias),a.maxBias&&(this.maxBias=a.maxBias)},Kiwi.Plugins.ChipmunkPhysics.Shapes={},Kiwi.Plugins.ChipmunkPhysics.Shapes.ParamConstruct=function(a){a=a||{},a.e?this.setElasticity(a.e):a.elasticity&&this.setElasticity(a.elasticity),a.u?this.setFriction(a.u):a.friction&&this.setFriction(a.friction),a.group&&(this.group=a.group),a.layers&&this.setLayers(a.layers),a.sensor&&this.setSensor(a.sensor),a.collisionType&&this.setCollisionType(a.collisionType)},Kiwi.Plugins.ChipmunkPhysics.Body=function(a){a=Kiwi.Plugins.ChipmunkPhysics.Body.parseParams(a),this.transform=a.transform,this.center=new Kiwi.Geom.Point(a.center.x,a.center.y),this.owner=a.owner,cp.Body.call(this,a.mass,a.i),"undefined"!=typeof a.maxVelocity&&(this.maxVelocity=a.maxVelocity),"undefined"!=typeof a.maxAngVelo&&(this.maxAngVelo=a.maxAngVelo),"undefined"!=typeof a.angVelo&&this.setAngVel(a.angle),"undefined"!=typeof a.velocity&&this.setVelocity(a.velocity)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Body,cp.Body),Kiwi.Plugins.ChipmunkPhysics.Body.parseParams=function(a){return a=a||{},a.transform=a.transform||new Kiwi.Geom.Transform(0,0),a.center=a.center||{x:a.transform.anchorPointX,y:a.transform.anchorPointY},a.owner=a.owner||null,"undefined"!=typeof a.m?a.mass=a.m:"undefined"==typeof a.mass&&(console.warn("No mass passed. Assigning default."),a.mass=100),"undefined"==typeof a.i&&(console.warn("No moment of inertia passed. Assigning default."),a.i=100),a},Kiwi.Plugins.ChipmunkPhysics.Body.prototype.setPos=function(a,b){this.x=a,this.y=b},Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"x",{get:function(){return this.transform.worldX+this.center.x},set:function(a){if(this.activate(),this.transform.parent){var b=Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(this.transform.parent);a-=this.x,this.transform.x+=a*Math.cos(b),this.transform.y+=a*Math.sin(-1*b)}else this.transform.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"y",{get:function(){return this.transform.worldY+this.center.y},set:function(a){if(this.activate(),this.transform.parent){var b=Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(this.transform.parent);a-=this.y,this.transform.x+=a*Math.sin(b),this.transform.y+=a*Math.cos(b)}else this.transform.y=a},enumerable:!0,configurable:!0}),Kiwi.Plugins.ChipmunkPhysics.Body.prototype.setAngle=function(a){if(this.activate(),this.transform.parent)var b=Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(this.transform.parent);else var b=0;this.transform.rotation=a-b},Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"rotation",{get:function(){return Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(this.transform)},set:function(a){this.setAngle(a)},enumerable:!0,configurable:!0}),Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation=function(a){var b=a.rotation;return a.parent?b+Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(a.parent):b},Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"mass",{get:function(){return this.m},set:function(a){this.setMass(a)},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"velocityX",{get:function(){return this.vx},set:function(a){this.activate(),this.vx=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"velocityY",{get:function(){return this.vy},set:function(a){this.activate(),this.vy=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"angularVelo",{get:function(){return this.w},set:function(a){this.setAngVel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"maxVelocity",{get:function(){return this.v_limit},set:function(a){this.v_limit=a},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Body.prototype,"maxAngVelo",{get:function(){return this.w_limit},set:function(a){this.w_limit=a},enumerable:!0,configurable:!0}),Kiwi.Plugins.ChipmunkPhysics.Body.prototype.position_func=function(a){var b=this.transform.getConcatenatedMatrix(),c=Kiwi.Plugins.ChipmunkPhysics.Body.getWorldRotation(this.transform.parent),d=b.tx-this.transform.anchorPointX+this.center.x,e=b.ty-this.transform.anchorPointY+this.center.y;this.p.x=d,this.p.y=e,this.a=this.transform.rotation+c,cp.Body.prototype.position_func.call(this,a),d=this.p.x-d,e=this.p.y-e,this.transform.rotation+=this.a-(this.transform.rotation+c),this.transform.x+=d*Math.cos(c)+e*Math.sin(c),this.transform.y+=d*Math.sin(-1*c)+e*Math.cos(c)},Kiwi.Plugins.ChipmunkPhysics.Joints.Pivot=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.pivot?cp.PivotJoint.call(this,a.a,a.b,a.pivot):(a.anchorA=a.anchorA||{x:0,y:0},a.anchorB=a.anchorB||{x:0,y:0},cp.PivotJoint.call(this,a.a,a.b,a.anchorA,a.anchorB)),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Pivot,cp.PivotJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.Pin=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.anchorA=a.anchorA||{x:0,y:0},a.anchorB=a.anchorB||{x:0,y:0},cp.PinJoint.call(this,a.a,a.b,a.anchorA,a.anchorB),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Pin,cp.PinJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.Groove=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.grooveA&&a.grooveB?(a.anchor=a.anchor||{x:0,y:0},cp.GrooveJoint.call(this,a.a,a.b,a.grooveA,a.grooveB,a.anchor),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a)):void console.error("You need to pass both groves."))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Groove,cp.GrooveJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.Gear=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.phase=a.phase||10,a.ratio=a.ratio||1,cp.GearJoint.call(this,a.a,a.b,a.phase,a.ratio),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Gear,cp.GearJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.DampedSpring=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.anchorA=a.anchorA||{x:0,y:0},a.anchorB=a.anchorB||{x:0,y:0},a.restLength=a.restLength||100,a.stiffness=a.stiffness||50,a.damping=a.damping||1,cp.DampedSpring.call(this,a.a,a.b,a.anchorA,a.anchorB,a.restLength,a.stiffness,a.damping),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.DampedSpring,cp.DampedSpring),Kiwi.Plugins.ChipmunkPhysics.Joints.DampedRotarySpring=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.restAngle=a.restAngle||100,a.stiffness=a.stiffness||50,a.damping=a.damping||1,cp.DampedRotarySpring.call(this,a.a,a.b,a.restAngle,a.stiffness,a.damping),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.DampedRotarySpring,cp.DampedRotarySpring),Kiwi.Plugins.ChipmunkPhysics.Joints.Ratchet=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.phase=a.phase||10,a.ratchet=a.ratchet||1,cp.RatchetJoint.call(this,a.a,a.b,a.phase,a.ratchet),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Ratchet,cp.RatchetJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.RotaryLimit=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,cp.RotaryLimitJoint.call(this,a.a,a.b,a.min,a.max),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.RotaryLimit,cp.RotaryLimitJoint),Kiwi.Plugins.ChipmunkPhysics.Joints.SimpleMotor=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.rate=a.rate,cp.SimpleMotor.call(this,a.a,a.b,a.rate),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.SimpleMotor,cp.SimpleMotor),Kiwi.Plugins.ChipmunkPhysics.Joints.Slide=function(a){return!a.bodyA&&!a.a||!a.bodyB&&!a.b?void console.error("You need to pass two bodies. bodyA & bodyB."):(a.a=a.bodyA||a.a,a.b=a.bodyB||a.b,a.anchorA=a.anchorA||{x:0,y:0},a.anchorB=a.anchorB||{x:0,y:0},a.max=a.max||100,a.min=a.min||1,cp.SlideJoint.call(this,a.a,a.b,a.anchorA,a.anchorB,a.min,a.max),void Kiwi.Plugins.ChipmunkPhysics.Joints.ParamConstruct.call(this,a))},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Joints.Slide,cp.SlideJoint),Kiwi.Plugins.ChipmunkPhysics.Shapes.Circle=function(a){a=a||{},a.offset||(a.offset={x:0,y:0}),cp.CircleShape.call(this,a.body,a.radius,a.offset),Kiwi.Plugins.ChipmunkPhysics.Shapes.ParamConstruct.call(this,a)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Shapes.Circle,cp.CircleShape),Kiwi.Plugins.ChipmunkPhysics.Shapes.Segment=function(a){a=a||{},a.start||(a.start={x:0,y:0}),a.end||(a.end={x:0,y:0}),a.r=a.r||0,cp.SegmentShape.call(this,a.body,a.start,a.end,a.r),Kiwi.Plugins.ChipmunkPhysics.Shapes.ParamConstruct.call(this,a)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Shapes.Segment,cp.SegmentShape),Kiwi.Plugins.ChipmunkPhysics.Shapes.Poly=function(a){a=a||{},a.offset||(a.offset={x:0,y:0}),cp.PolyShape.call(this,a.body,a.verts,a.offset),Kiwi.Plugins.ChipmunkPhysics.Shapes.ParamConstruct.call(this,a)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Shapes.Poly,cp.PolyShape),Kiwi.Plugins.ChipmunkPhysics.Shapes.Box2=function(a){a=a||{},a.verts=[a.box.l,a.box.b,a.box.l,a.box.t,a.box.r,a.box.t,a.box.r,a.box.b],Kiwi.Plugins.ChipmunkPhysics.Shapes.Poly.call(this,a)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Shapes.Box2,Kiwi.Plugins.ChipmunkPhysics.Shapes.Poly),Kiwi.Plugins.ChipmunkPhysics.Shapes.Box=function(a){a=a||{};var b=a.width/2,c=a.height/2;a.box=new cp.BB(-b,-c,b,c),Kiwi.Plugins.ChipmunkPhysics.Shapes.Box2.call(this,a)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Shapes.Box,Kiwi.Plugins.ChipmunkPhysics.Shapes.Box2),Kiwi.Plugins.ChipmunkPhysics.Space=function(a){cp.Space.call(this),a=a||{},a.gravity&&(this.gravity=a.gravity),a.damping&&(this.damping=a.damping),a.iterations&&(this.iterations=a.iterations),a.collisionSlop&&(this.collisionSlop=a.collisionSlop),a.collisionBias&&(this.collisionBias=a.collisionBias),a.collisionPersistence&&(this.collisionPersistence=a.collisionPersistence),a.idleSpeedThreshold&&(this.idleSpeedThreshold=a.idleSpeedThreshold)},Kiwi.extend(Kiwi.Plugins.ChipmunkPhysics.Space,cp.Space),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Space.prototype,"gravityX",{get:function(){return this.gravity.x},set:function(a){this.gravity={x:a,y:this.gravity.y}},enumerable:!0,configurable:!0}),Object.defineProperty(Kiwi.Plugins.ChipmunkPhysics.Space.prototype,"gravityY",{get:function(){return this.gravity.y},set:function(a){this.gravity={x:this.gravity.x,y:a}},enumerable:!0,configurable:!0});